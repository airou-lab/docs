<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>AirOU Race Cars (ARC) - AIROU Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../intro.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Projects</li><li class="chapter-item expanded "><a href="../arc/index.html" class="active"><strong aria-hidden="true">1.</strong> AirOU Race Cars (ARC)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../arc/software/index.html"><strong aria-hidden="true">1.1.</strong> Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../arc/software/initial.html"><strong aria-hidden="true">1.1.1.</strong> Initial Setup & Simulation</a></li><li class="chapter-item expanded "><a href="../arc/software/sensors.html"><strong aria-hidden="true">1.1.2.</strong> Running The Sensors</a></li><li class="chapter-item expanded "><a href="../arc/software/overview.html"><strong aria-hidden="true">1.1.3.</strong> System Overview</a></li><li class="chapter-item expanded "><a href="../arc/software/rviz.html"><strong aria-hidden="true">1.1.4.</strong> Using RVIZ</a></li></ol></li><li class="chapter-item expanded "><a href="../arc/hardware/index.html"><strong aria-hidden="true">1.2.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../arc/hardware/initial.html"><strong aria-hidden="true">1.2.1.</strong> Initial Boot-up</a></li><li class="chapter-item expanded "><a href="../arc/hardware/onboardHardware.html"><strong aria-hidden="true">1.2.2.</strong> Hardware Info</a></li></ol></li><li class="chapter-item expanded "><a href="../arc/misc/index.html"><strong aria-hidden="true">1.3.</strong> Misc</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../arc/misc/wslInstall.html"><strong aria-hidden="true">1.3.1.</strong> WSL2 Installation</a></li><li class="chapter-item expanded "><a href="../arc/misc/bluetoothController.html"><strong aria-hidden="true">1.3.2.</strong> BluetoothController</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../lionn/overview.html"><strong aria-hidden="true">2.</strong> Drone Platform (LIONN)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lionn/hardware/overview.html"><strong aria-hidden="true">2.1.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lionn/hardware/voxl.html"><strong aria-hidden="true">2.1.1.</strong> VOXL Flight Deck</a></li><li class="chapter-item expanded "><a href="../lionn/hardware/nuc.html"><strong aria-hidden="true">2.1.2.</strong> Intel NUC</a></li><li class="chapter-item expanded "><a href="../lionn/hardware/rc.html"><strong aria-hidden="true">2.1.3.</strong> Remote Control</a></li></ol></li><li class="chapter-item expanded "><a href="../lionn/software/overview.html"><strong aria-hidden="true">2.2.</strong> Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lionn/software/access.html"><strong aria-hidden="true">2.2.1.</strong> Accessing the Drone</a></li></ol></li><li class="chapter-item expanded "><a href="../lionn/setup/overview.html"><strong aria-hidden="true">2.3.</strong> Setup Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lionn/setup/ros.html"><strong aria-hidden="true">2.3.1.</strong> ROS Setup</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../jetbot/overview.html"><strong aria-hidden="true">3.</strong> JetBot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../jetbot/setup.html"><strong aria-hidden="true">3.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../jetbot/ML.html"><strong aria-hidden="true">3.2.</strong> Machine Learning</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AIROU Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/airou-lab/docs/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/airou-lab/docs/edit/master/src/arc/README.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="airou-race-cars-pro-arcpro"><a class="header" href="#airou-race-cars-pro-arcpro">AirOU Race Cars Pro (ARCPro)</a></h1>
<h2 id="arcpro-overview"><a class="header" href="#arcpro-overview">ARCPro Overview:</a></h2>
<p>Our robotic car is designed and built to autonomously navigate unknown areas and create accurate 2D/3D maps. Also, the vehicles are capable of intra-vehicular and vehicle-to-infrastructure communication. In this tutorial, we will go through the hardware design of ARCPro first. Then the instruction to turn on the cars and hardware setup is explained step-by-step. Lastly, we instruct you to use ARCPro software to launch different sensors (e.g., LiDAR, depth camera).</p>
<p><img src="photos/arcpro.png" alt="ARCPro Lineup" /></p>
<h2 id="onboard-hardware--specs"><a class="header" href="#onboard-hardware--specs">Onboard Hardware  Specs</a></h2>
<p>ARCPro Main Components: </p>
<ul>
<li>Intel NUC Processor</li>
<li>2D LiDAR (YDLIDAR X4PRO)</li>
<li>Intel D435i RGB-D Camera</li>
<li>Servo Motor</li>
<li>Controller VESC</li>
</ul>
<h2 id="initial-boot-up"><a class="header" href="#initial-boot-up">Initial Boot-up:</a></h2>
<p>You need to follow these steps to turn on the robot. It is very important to keep this order</p>
<p>Plug VESC battery  to VESC  (Front wheels should “lock” when VESC is plugged in and you may hear a sound) 
Plug NUC battery to power convertor.
Plugin NUC.
Turn on the intel NUC by pushing the power button on the front. The NUC will turn on and you will see the lidar on the top starts spinning!</p>
<ul>
<li>The connector to connect the VESC battery</li>
<li>The connector for connecting NUC battery</li>
<li>After you connect the batteries:</li>
</ul>
<p>Note: if the intel NUC does not turn on, please let the class staff know immediately.</p>
<h2 id="using-car"><a class="header" href="#using-car">Using Car:</a></h2>
<p>You can connect to the car in three different ways: direct access, remote access using ssh, remote access using Remote Desktop
Directly connect to the car: you can connect a monitor and keyboard/mouse to the car to get access to the car. You may use a monitor/keyboard/mouse in the lab to connect to the car.
Connecting to the car remotely:
You can connect to the car through wifi either using Remote Desktop or by ssh.</p>
<h2 id="starting-mushr-package"><a class="header" href="#starting-mushr-package">Starting MuSHR Package:</a></h2>
<p>Mushr is the component responsible for, among other things, controlling the robot. It runs inside a docker container, and generally receives input via bluetooth.</p>
<ol>
<li>Once logged in, open a terminal and launch the Mushr docker container using the command <code>mushr_noetic</code></li>
<li>You will dropped into a container. Run <code>roslaunch mushr_base teleop.launch</code></li>
<li>This will launch the teleoperations and allow you to control the robot with the bluetooth controller. You can also launch rviz(background the roslaunch command with ctrl + z, then run <code>rviz</code>) to check out a visual representation of the environment, and see the lidar. Make sure to adjust the fixed frame to /car/base_link</li>
</ol>
<h2 id="using-controller"><a class="header" href="#using-controller">Using controller:</a></h2>
<p>After launching teleop, you have to press center button on the Controller the light should start flashing indicating the controller tries to find the robot, after that, it will be constantly on  (if the controller is not connecting, you have to connect the car directly to the monitor and following the steps provided in this page). If the controller does not turn on, it may indicate it does not have enough charge, and you have to recharge it. We provide cables in the cabinet for charging. Please put it back after you finish charging.
Remember you must press L1 (the Deadman’s switch) to move the robot. The left joystick is for moving back and forth, and the right joystick is for steering.</p>
<h2 id="starting-the-camera"><a class="header" href="#starting-the-camera">Starting the camera</a></h2>
<p>The robot uses an Intel Realsense d435i camera that provides RGB, infrared, depth, and IMU(accelerometer and gyroscope) data. This data is used by the other components to build a model of the environment, but it's possible to run the camera components without those other tools. To launch the camera:</p>
<ol>
<li>Open a terminal, and run `roslaunch realsense2_camera rs_camera.launch unite_imu_method:=linear_interpolation</li>
<li>If you'd like to enable the point cloud, add <code>enable_pointcloud:=true</code>(may not be working)</li>
<li>Open another terminal, and launch Rviz to view the camera output. Set the fixed frame to camera_link, and add topics like /camera/color/image_raw for example.
Our software is based on MuSHR software packages. For more information, please visit MuSHR tutorialLinks to an external site.</li>
</ol>
<h2 id="how-to-shut-down-the-race-car"><a class="header" href="#how-to-shut-down-the-race-car">How to shut down the race car:</a></h2>
<ol>
<li>
<p>To shut down the system, press the power button in NUC. Please do not hold it! Otherwise, it damages the NUC over the time </p>
</li>
<li>
<p>Unplug the NUC cable.</p>
</li>
<li>
<p>Unplug the NUC batter</p>
</li>
<li>
<p>Unplug the VESC battery.</p>
</li>
</ol>
<p>Shutdown process is complete.</p>
<h2 id="faq-and-common-issues"><a class="header" href="#faq-and-common-issues">FAQ and common issues</a></h2>
<ul>
<li>Problem: Mushr is reporting VESC out of sync errors, and the LIDAR won't start.</li>
<li>The cables for the LIDAR probably need to be swapped. Usually this happens because the LIDAR isn't detected, and sits on the same port as the VESC. Check /dev to see if that's the case. If the symlinks for both the ydlidar and VESC are pointing to the same thing, that's an issue.</li>
<li>I can't connect to the robot.</li>
<li>First make sure you are on the campus wifi or ethernet. Try SSH-ing before remote desktop. If SSH doesn't work, connect the robot directly to a monitor via HDMI and check the network connection. You can also try pinging it at its address.</li>
</ul>
<h1 id="airou-race-cars-arc"><a class="header" href="#airou-race-cars-arc">AirOU Race Cars (ARC)</a></h1>
<p><img src="photos/arc_lineup.jpg" alt="ARC Lineup" /></p>
<p>Regarding hardware and software information for the ARC system, most information and tutorials can be found on the <a href="https://mushr.io/">MuSHR website</a> which is the project ARC is derived from.</p>
<p>For any questions or concerns, feel free to reach out to us at:</p>
<p><strong>tyler.m.roman-1@ou.edu (Software) and dvargas88@ou.edu (Hardware &amp; MiniCity)</strong>.</p>
<p>There is also a forum for MuSHR issues located in their <a href="https://github.com/prl-mushr/mushr/discussions">GitHub organization discussions</a>.</p>
<h2 id="outside-resources"><a class="header" href="#outside-resources">Outside Resources</a></h2>
<p>Regarding the software for the MuSHR/ARC system, most information and tutorials can be found on the MuSHR website</p>
<p>Links to an external site. </p>
<p>For any questions or concerns, feel free to reach out to Tyler Roman at tyler.m.roman-1@ou.edu. There is also a forum for MuSHR issues located in their GitHub organization discussions</p>
<p>Links to an external site..</p>
<p>We recommend at least going through the following tutorials: </p>
<p><a href="https://mushr.io/tutorials/quickstart/">Quickstart (Legacy)</a>: This will go over getting the MuSHR repo and running the MuSHR simulation. </p>
<p><a href="https://mushr.io/tutorials/intro-to-ros/">Intro to ROS</a>: As well as providing some basic insight into how ROS works, it also goes over how to create a package and subscribe to and publish to ROS topics in the MuSHR system </p>
<p><a href="https://mushr.io/tutorials/overview/">General System Overview</a>: Details on the hardware and ROS topics (I highlight key takeaways in the next section) </p>
<p>For the purposes of documentation, we will only go over methods and information relevant to running the base sensors in ARC system, and anything that might be of resource to a new user </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../arc/software/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../arc/software/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
