<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Initial Setup &amp; Simulation - AIROU Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../intro.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Projects</li><li class="chapter-item expanded "><a href="../../arc/index.html"><strong aria-hidden="true">1.</strong> AirOU Race Cars (ARC)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../arc/software/index.html"><strong aria-hidden="true">1.1.</strong> Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../arc/software/initial.html" class="active"><strong aria-hidden="true">1.1.1.</strong> Initial Setup & Simulation</a></li><li class="chapter-item expanded "><a href="../../arc/software/sensors.html"><strong aria-hidden="true">1.1.2.</strong> Running The Sensors</a></li><li class="chapter-item expanded "><a href="../../arc/software/overview.html"><strong aria-hidden="true">1.1.3.</strong> System Overview</a></li><li class="chapter-item expanded "><a href="../../arc/software/rviz.html"><strong aria-hidden="true">1.1.4.</strong> Using RVIZ</a></li></ol></li><li class="chapter-item expanded "><a href="../../arc/hardware/index.html"><strong aria-hidden="true">1.2.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../arc/hardware/initial.html"><strong aria-hidden="true">1.2.1.</strong> Initial Boot-up</a></li><li class="chapter-item expanded "><a href="../../arc/hardware/onboardHardware.html"><strong aria-hidden="true">1.2.2.</strong> Hardware Info</a></li></ol></li><li class="chapter-item expanded "><a href="../../arc/misc/index.html"><strong aria-hidden="true">1.3.</strong> Misc</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../arc/misc/wslInstall.html"><strong aria-hidden="true">1.3.1.</strong> WSL2 Installation</a></li><li class="chapter-item expanded "><a href="../../arc/misc/bluetoothController.html"><strong aria-hidden="true">1.3.2.</strong> BluetoothController</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../lionn/overview.html"><strong aria-hidden="true">2.</strong> Drone Platform (LIONN)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../lionn/hardware/overview.html"><strong aria-hidden="true">2.1.</strong> Hardware</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../lionn/hardware/voxl.html"><strong aria-hidden="true">2.1.1.</strong> VOXL Flight Deck</a></li><li class="chapter-item expanded "><a href="../../lionn/hardware/nuc.html"><strong aria-hidden="true">2.1.2.</strong> Intel NUC</a></li><li class="chapter-item expanded "><a href="../../lionn/hardware/rc.html"><strong aria-hidden="true">2.1.3.</strong> Remote Control</a></li></ol></li><li class="chapter-item expanded "><a href="../../lionn/software/overview.html"><strong aria-hidden="true">2.2.</strong> Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../lionn/software/access.html"><strong aria-hidden="true">2.2.1.</strong> Accessing the Drone</a></li></ol></li><li class="chapter-item expanded "><a href="../../lionn/setup/overview.html"><strong aria-hidden="true">2.3.</strong> Setup Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../lionn/setup/ros.html"><strong aria-hidden="true">2.3.1.</strong> ROS Setup</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../jetbot/overview.html"><strong aria-hidden="true">3.</strong> JetBot</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../jetbot/setup.html"><strong aria-hidden="true">3.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../../jetbot/ML.html"><strong aria-hidden="true">3.2.</strong> Machine Learning</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AIROU Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/airou-lab/docs/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/airou-lab/docs/edit/master/src/arc/software/initial.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="initial-software--simulation"><a class="header" href="#initial-software--simulation">Initial Software &amp; Simulation</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>In this tutorial, we’ll go over the bare necessities you’ll need on your base computer to run the simulation stack. By doing so, you’ll also have access to the utilities for the project like the default RVIZ configuration file. </p>
<p><strong>Perquisites:</strong></p>
<ul>
<li>
<p>Ubuntu 18.04 dual booted on your machine or Ubuntu 18.04 installed on WSL2 on your Windows Computer.</p>
<ul>
<li>
<p><strong>Note:</strong> Instructions to <a href="../misc/wslInstall.html">Install WSL2</a></p>
</li>
<li>
<p><strong>Note:</strong> WSL1 will be more difficult to use since you have to <a href="https://ripon-banik.medium.com/run-x-display-from-wsl-f94791795376">setup graphics rendering</a>.</p>
</li>
</ul>
</li>
<li>
<p>Python2.7</p>
<ul>
<li><strong>Note:</strong> This should be the default version for Ubuntu 18</li>
</ul>
</li>
<li>
<p><a href="http://wiki.ros.org/melodic/Installation/Ubuntu">ROS Melodic Desktop Full</a></p>
</li>
</ul>
<h2 id="steps"><a class="header" href="#steps">Steps</a></h2>
<ol>
<li><strong>Create a catkin_ws directory</strong></li>
</ol>
<p>This will create a workspace to house all the code, including the simulations, on your computer. Open your terminal and copy these commands: </p>
<pre><code>mkdir ~/catkin_ws/src 

cd ~/catkin_ws &amp;&amp; catkin_make 

echo ~/catkin_ws/devel/setup.bash &gt;&gt; ~/.bashrc 

source ~/.bashrc 
</code></pre>
<ol start="2">
<li><strong>Install dependencies</strong></li>
</ol>
<p>Before we can copy the code base, we need to make sure that we have some dependencies. Copy and paste these commands into your terminal. </p>
<p><em>Make sure you have ROS Melodic installed!</em></p>
<pre><code>sudo apt install git-all  

sudo apt install python-tk 

curl -s https://packagecloud.io/install/repositories/dirk-thomas/vcstool/script.deb.sh | sudo bash 
sudo apt-get update 
sudo apt-get install python3-vcstool 
</code></pre>
<ol start="3">
<li><strong>Ensure we have ROS dependencies</strong></li>
</ol>
<p>To run the codebase, we need to ensure that we have the proper ROS messages. To install them, copy and paste this into your terminal: </p>
<pre><code>sudo apt install -y ros-melodic-ackermann-msgs ros-melodic-map-server ros-melodic-serial ros-melodic-urg-node ros-melodic-robot-state-publisher ros-melodic-xacro 
</code></pre>
<ol start="4">
<li><strong>Install Necessary repositories</strong></li>
</ol>
<p>From our github repo, download repos.yaml into ~/catkin_ws/src </p>
<p>Then run:</p>
<pre><code>vcs import &lt; repos.yaml 
</code></pre>
<ol start="5">
<li><strong>Install rangelibc:</strong></li>
</ol>
<p>Rangelibc is a python library used for different implementations of raycasting for 2D occupancy grids. </p>
<p>Install by running the following commands: </p>
<pre><code>cd ~/catkin_ws/src/range_libc/pywrapper 

sudo python setup.py install 

cd ~/catkin_ws/src &amp;&amp; rm -rf range_libc 
</code></pre>
<ol start="6">
<li>
<p><strong>Run catkin_make to build everything</strong></p>
<p>cd ~/catkin_ws &amp;&amp; catkin_make </p>
</li>
</ol>
<p>Then you’ll want to source the workspace environment, so it's added to your path </p>
<pre><code>echo 'source /opt/ros/melodic/setup.bash' &gt;&gt; ~/.bashrc 
echo 'source ~/catkin_ws/devel/setup.bash' &gt;&gt; ~/.bashrc 
source ~/.bashrc 
</code></pre>
<ol start="7">
<li><strong>Change the default rviz configuration</strong></li>
</ol>
<pre><code>cp ~/catkin_ws/src/mushr/mushr_utils/rviz/default.rviz ~/.rviz/
</code></pre>
<ol start="7">
<li><strong>Running the simulation</strong></li>
</ol>
<p>In one terminal, launch teleoperation: </p>
<pre><code>roslaunch mushr_sim teleop.launch 
</code></pre>
<p>In another terminal, launch rviz: </p>
<pre><code>rviz 
</code></pre>
<p>You should now see the simulation for the ARC system. </p>
<p><img src="../photos/arc_simulation.png" alt="Picture of simulation" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../arc/software/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../arc/software/sensors.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../arc/software/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../arc/software/sensors.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
